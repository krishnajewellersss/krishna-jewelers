CREATE DATABASE khushkaro;

USE khushkaro;

-- Products table
CREATE TABLE products (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    description TEXT,
    price DECIMAL(10,2) NOT NULL,
    category VARCHAR(50) NOT NULL,
    image_url VARCHAR(255),
    stock INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Users table
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    phone VARCHAR(20),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Orders table
CREATE TABLE orders (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    total_amount DECIMAL(10,2) NOT NULL,
    delivery_address TEXT NOT NULL,
    payment_method VARCHAR(50) NOT NULL,
    status VARCHAR(20) DEFAULT 'pending',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- Order items table
CREATE TABLE order_items (
    id INT AUTO_INCREMENT PRIMARY KEY,
    order_id INT,
    product_id INT,
    quantity INT NOT NULL,
    price DECIMAL(10,2) NOT NULL,
    FOREIGN KEY (order_id) REFERENCES orders(id),
    FOREIGN KEY (product_id) REFERENCES products(id)
);

-- Sample data
INSERT INTO products (name, description, price, category, image_url, stock) VALUES
('Romantic Combo Pack', 'Includes designer jhumka, premium perfume, eternal rose and chocolate', 999.00, 'combo', 'combo1.jpg', 50),
('Designer Jhumka Earrings', 'Beautiful traditional jhumka earrings with premium finish', 799.00, 'wife', 'jhumka.jpg', 30),
('Premium Perfume - 50ml', 'Long-lasting fragrance with elegant packaging', 899.00, 'girlfriend', 'perfume.jpg', 40),
('Eternal Rose in Glass Dome', 'Preserved real rose in a glass dome with LED lights', 599.00, 'girlfriend', 'rose.jpg', 25),
('Personalized Photo Frame', 'Customizable photo frame for your special memories', 499.00, 'husband', 'frame.jpg', 20),
('Leather Wallet', 'Premium genuine leather wallet with multiple compartments', 699.00, 'boyfriend', 'wallet.jpg', 35);
